<f:switch expression="{settings.listType}">
    <f:case value="vcard">
        <dl class="vcard">
            <f:for each="{addresspage}" as="address">
                <f:if condition="{address.company}">
                    <dt class="vcard">
                        <strong>
                            <span class="ttaddress_org">{address.company}</span>
                        </strong>
                    </dt>
                </f:if>
                <dd class="vcard">
                    <div class="contact">
                        <f:if condition="{address.lastName}">
                            <f:then>{address.title} {address.firstName} {address.middleName} {address.lastName}<br/></f:then>
                            <f:else>{address.name}<br/></f:else>
                        </f:if>
                        {address.building} {address.room}
                        <f:if condition="{address.building}">
                            <br/>
                        </f:if>
                        <f:if condition="{address.address}">
                            {address.address}<br/><br/>
                        </f:if>
                        {address.zip} {address.city}
                        <f:if condition="{address.city}">
                            <f:if condition="{address.zip}">
                                <br/><br/>
                            </f:if>
                        </f:if>
                        <f:if condition="{address.region}">
                            {address.region}<br/>
                        </f:if>
                        <f:if condition="{address.country}">
                            {address.country}<br/><br/>
                        </f:if>
                        <f:if condition="{address.phone}">
                            <br/>Tel.:&nbsp;{address.phone}
                        </f:if>
                        <f:if condition="{address.mobile}">
                            <br/>Mob.:&nbsp;{address.mobile}
                        </f:if>
                        <f:if condition="{address.fax}">
                            <br/>Fax:&nbsp;{address.fax}
                        </f:if>
                        <f:if condition="{address.www}">
                            <br/><f:link.external uri="{address.www}" target="_blank" title="Externer Link, öffnet sich in neuem Browserfenster" class="linkExt">Internetseite</f:link.external>
                        </f:if>
                        <f:if condition="{address.email}">
                            <br/><f:link.email email="{address.email}" class="linkmailto">eMail</f:link.email>
                        </f:if>
                        <f:if condition="{address.categories}">
                            <br/><br/><span class="groupList">(<f:for each="{address.categories}" as="category" iteration="index"><f:if condition="{index.isFirst} != '1'">, </f:if>{category.title}</f:for>)</span>
                        </f:if>
                        <f:if condition="{address.tx_ttaddresshandicappedinfo_distance}">
                            <br/>{address.tx_ttaddresshandicappedinfo_distance}
                        </f:if>
                    </div>
                    <div class="address_description">
                        <f:if condition="{address.image}">
                            <f:image treatIdAsReference="1" src="{address.image.uid}" width="120c" />
                        </f:if>
                        <f:format.html>{address.description}</f:format.html>
                        <f:if condition="{address.txCronmmaddressOpeninghours}">
                            <b>&Ouml;ffnungszeiten:</b>
                            <f:format.html>{address.txCronmmaddressOpeninghours}</f:format.html>
                        </f:if>
                    </div>
                </dd>
            </f:for>
        </dl>
    </f:case>
    <f:case value="2column">
        <table>
            <thead>
            <tr>
                <th id="anschrift">Anschrift</th>
                <th id="kontaktdaten">Infos für Behinderte</th>
            </tr>
            </thead>
            <tbody>
            <f:for each="{addresspage}" as="address" iteration="addressIterator">
                <tr class="{f:if(condition: addressIterator.isEven, then:'even')}{f:if(condition: addressIterator.isOdd, then:'odd')}">
                    <td headers="anschrift">
                        <b>{address.title} {address.firstName} {address.middleName} {address.lastName}</b><br>
                        <span>{address.address}</span><br><br>
                        <span>{address.zip} {address.city}</span><br><br>
                        <f:if condition="{address.categories}">
                            <br><br/><span class="groupList">(<f:for each="{address.categories}" as="category" iteration="index"><f:if condition="{index.isFirst} != '1'">, </f:if>{category.title}</f:for>)</span>
                        </f:if>
                    </td>
                    <td headers="Infos für Behinderte">
                        <f:if condition="{address.txTtaddresshandicappedinfoAdditionalInfo}">
                            <f:format.html>{address.txTtaddresshandicappedinfoAdditionalInfo}</f:format.html>
                        </f:if>
                    </td>
                </tr>
            </f:for>
            </tbody>
        </table>
    </f:case>
    <f:case value="3column">
        <table>
            <thead>
            <tr>
                <th id="anschrift">Anschrift</th>
                <th id="kontaktdaten">Kontaktdaten</th>
                <th id="bemerkungen">Bemerkungen</th>
            </tr>
            </thead>
            <tbody>
            <f:for each="{addresspage}" as="address" iteration="addressIterator">
                <tr class="{f:if(condition: addressIterator.isEven, then:'even')}{f:if(condition: addressIterator.isOdd, then:'odd')}">
                    <td headers="anschrift">
                        <b>{address.company}</b><br>
                        <span>{address.title} {address.name}</span><br>
                        <span>{address.address}</span><br><br>
                        <span>{address.zip} {address.city}</span>
                    </td>
                    <td headers="kontaktdaten">
                        <f:if condition="{address.phone}">
                            <span>Tel.:&nbsp;{address.phone}</span><br>
                        </f:if>
                        <f:if condition="{address.fax}">
                            <span>Fax:&nbsp;{address.fax}</span><br>
                        </f:if>
                        <f:if condition="{address.www}">
                            <f:link.external uri="{address.www}" target="_blank" title="Externer Link, öffnet sich in neuem Browserfenster" class="linkExt">Internetseite</f:link.external><br>
                        </f:if>
                        <f:if condition="{address.email}">
                            <f:link.email email="{address.email}" class="linkmailto">eMail</f:link.email>
                        </f:if>
                    </td>
                    <td headers="bemerkungen">
                        <f:format.html>{address.description}</f:format.html>
                        <f:if condition="{address.txCronmmaddressOpeninghours}">
                            <b>&Ouml;ffnungszeiten:</b>
                            <f:format.html>{address.txCronmmaddressOpeninghours}</f:format.html>
                        </f:if>
                        <f:if condition="{address.categories}">
                            <br/><br/><span class="groupList">(<f:for each="{address.categories}" as="category" iteration="index"><f:if condition="{index.isFirst} != '1'">, </f:if>{category.title}</f:for>)</span>
                        </f:if>
                    </td>
                </tr>
            </f:for>
            </tbody>
        </table>
    </f:case>
</f:switch>
